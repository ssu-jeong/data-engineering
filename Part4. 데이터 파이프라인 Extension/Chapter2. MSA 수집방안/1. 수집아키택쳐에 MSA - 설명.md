## 수집아키택쳐에 MSA - 설명

---

우리가 api-gateway를 통해서 kinesis stream 그 다음에 kinesis firehose를 통해 s3에 데이터를 저장하는 것을 배웠는데 이 부분을 확장된 개념으로 배워볼 것.

### 실습구성도

![2-1](https://user-images.githubusercontent.com/86764734/161274098-c28b59fd-b878-40e6-a75c-091464b6663b.png)

**msa란건 뭘까?**

필요할 때 쉽게 구성할 수 있고 api-gateway를 하나의 엔드포인트를 통해서 여러의 리소스로 나눠서 저장을 할 수 있는 것.

데이터 생성이 앱이나 웹에서 진행되는데 여러가지 광고채널이나 이런걸 통해서 데이터를 외부에서 수집하는 경우가 많다.

그런경우에 dev 데이터로 수집하기 위해서 웹폭방식으로 그 이벤트가 발생할 때마다 엔드포인트로 보내는 경우가 많다. 그럴 경우에 쉽게 데이터를 수집할 수 있는 방법이라고 보면 된다. 

이런 서비스들이 한 두개가 아니고 계속 늘어날 건데 그럴때마다 파이프라인을 구성하고 운영하기가 쉽지 않다.

과거에는 리소스를 변수로 쓴다는 것을 생각을 못했지만 클라우드이기 때문에 이런 리소스를 변수치환해서 일반화해 엔드포인트를 구성할 수 있다.

->  그럴 경우에는 이제 kinesis stream에 대한 이름을 하나의 변수로!

신규서비스가 하나 오픈됬을때 쉽게 수집할 수 있는 방법으로 사실 이런 고민에서 만들었고 기존에 kinesis stream하고 gateway를 연동하는 방법을 찾아보면 그 관련된 도큐먼트가 있을 것이다. 그래서 그 부분을 실습을 통해서 수집에 있어서 좀 더 확장된 개념을 배워 보자.