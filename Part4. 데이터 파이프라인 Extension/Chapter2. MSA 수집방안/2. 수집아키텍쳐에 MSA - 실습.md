## 수집아키텍쳐에 MSA - 실습

---

데이터 수집을 위해서 api-gateway에서 외부로 부터 오는 데이터를 수집을 했다. api-gateway로 가서 msa처럼 쉽게 확장할 수 있는 그런 그 기존에 울기ㅏ 구성했던 api-gateway를 보고 확장을 해보자. 

### Api-Gateway

---

#### 1. 리소스 생성

![2-2-1](https://user-images.githubusercontent.com/86764734/161387610-1509efe2-a9cc-4d8e-9936-e2d85745d1c0.png)

우리가 기존에 v1이라는 버전의 게이트웨이를 만들었엇죠

![2-2-2](https://user-images.githubusercontent.com/86764734/161387621-8301f761-539f-4f38-8680-64ed3630e406.png)

그래서 이번엔 확장된 개념이기 때문에 v2라는 버전을 생성해보도록 할 것.

![2-3](https://user-images.githubusercontent.com/86764734/161387631-74fe54f9-0476-46a6-9a8a-22fcad633fa0.png)

리소스 생성에서 v2 생성

![2-4](https://user-images.githubusercontent.com/86764734/161387640-158ad078-9a17-43c6-bcd7-4619ea656bea.png)

그 다음에 리소스를 변수처리를 해줘야 하는데, 변수를 추가하기 위한 방법. 

![2-2-5](https://user-images.githubusercontent.com/86764734/161387656-d2b2e1c4-057f-4e6e-9309-291eb8bb32a9.png)

그리고 중괄호 해서 파라미터 처리를 해준 후, 그런 다음에 리소스 생성

![2-2-6](https://user-images.githubusercontent.com/86764734/161387662-f97442d3-00ca-4956-9336-c9177a06e7f9.png)

![2-2-7](https://user-images.githubusercontent.com/86764734/161387671-6f514145-202f-47f5-b764-e6b98841f385.png)

그 다음에 우리가 이전에 했던 작업과 똑같이 진행하면 된다. (-> POST라는 메소드에 따라 태스크를 처리)