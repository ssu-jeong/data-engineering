## 04. 지역별단지조회수실습-골드데이터생성

---

이번시간에는 이제 로우데이터(브론즈데이터)를 통해서 데이터 분석에 필요한 그런 트랜스폼된 데이터를 하나 만들었다. 그 데이터의 속성을 어디에 저장을 했죠? 데이터 카탈로그에 정의했죠? 그래서 좀 정형화된 데이터로 만들어 주었구요. 

우리 폴더중에 ods라고 만든 폴더가 있었죠? 근데 대부분 거기에 대부분 데이터를 놓지 않고 분석용, mysql같은 경우에 하나 만들어서 거기에 마스터성 데이터를 만들어서 s3에 있는 데이터를 보통 DBMS에 마스터테이블로 만듭니다. 그것을 ods라고 말하는데, 오퍼레이션 데이터 스토어라고 운영에서 사용하는 마스터성 데이블, 지금 저희가 샘플로 하나를 만들었지만, 우리는 비즈니스에서 사용하고 있는 여러 마스터성 테이블이 있을 겁니다. 그런것들을 대부분 따로 db를 구성해서 거기에 고객마스터, 상품마스터, 매물마스터 이런 식으로해서 마스터성 데이터를 따로 dbms에 구성을 하게 된다. 그래서 그 데이터와 우리가 정제한 데이터를 잘 조함을 해서 마트성, 그리고 우리가 골드라고 하는 즉 우리가 좀 더 시각화 할 수 있는 형태 아니면 좀 데이터를 뭔가 sql이나 이런걸 몰라도 쉽게 접근해서 데이터를 볼 수 있는 형태로 변경해서 저장을 하는 경우를 이야기 한다. 그래서 그 경우를 실습을 통해 배워 볼 것. 

우리가 만들려고 하는 것은 대부분 이벤트 로그 안에는 보통 아이디로 구성되어 있다. 우리가 앞에서 만든거와 같이 보통은 단지 아이디 이렇게 하면 그거 외에 데이터 들은 마스터성 테이블과 조인해서 데이터를 만들어가야 마트성, 골드에 해당하는 데이터를 만들 수 있다.

![5-4-1](https://user-images.githubusercontent.com/86764734/157460205-67f19a2c-897d-4992-8a28-029b5958d0ae.png)

오른 쪽을 보면 어느 시군구 동에 어느정도 조회수가 발생을 하는지, 아니면 그 단지에 대해서 조회가 발생을 하는지 디테일한 데이터를 만들어 낼 수 있다. 

### 실습

#### Zeppelin 실행
1. import note
    
    4-3.지역별단지조회수 파일 열어주기 
    
    첫번째 단지별 사용자 조회수를 좀 더 마트성 아니면 골드데이터로 만드는 실습을 진행해 볼 것

![5-4-2](https://user-images.githubusercontent.com/86764734/157460499-f9786cac-8154-4341-95e5-208b7b8f1303.png)

대부분 sql을 만들어서 제공하고 있는데 이게 아파트에 대한 부분이라서 우리도 쉽게 이해를 할 것이라 보고 좀 더 디테일한 정보를 가지고 여러가지 조회를 자체적으로 해봤으면 좋겠어요~

2. 지역별 단지조회수
    
    열어보면 이전에 mysql을 띄어 놧었는데 거기에 저장을 할 것이다. 
    
    접속정보를 찾아서 넣어보자!