## zeppelin을 통한 분석 - mysql

---

앞서 rds를 하나 실행을 햇다.

우리가 emr의 spark를 활용을 해서 데이터를 어떻게 mysql에 저장을 하는지 실습진행

#### EMR 실행

- 이전에 실행했던 것 복제

![3-5-1](https://user-images.githubusercontent.com/86764734/155149041-13806b35-af70-4b9f-8b60-781ce4fe728f.png)

- 이전에 강글리아 띄우기 위해 띄웠던 스텝을 그대로 가져갈 수 있다. 

![3-5-2](https://user-images.githubusercontent.com/86764734/155149257-97749979-e5b4-4ac1-9178-2c9c97fbbfae.png)

#### zeppelin 실행

- 어플리케이션 이력으로 가서 zeppelin URL을 가져와서 새탭에서 열어준다.

![3-5-3](https://user-images.githubusercontent.com/86764734/155149430-4c2b66af-a7ad-4e1d-b2c7-781b4d0a24be.png)

- import note를 통해 제공받은 소스코드 열어준다 → 3.3 RDS read write-scala.json

![3-5-4](https://user-images.githubusercontent.com/86764734/155149641-9216da4d-f333-49e8-aebd-18d790a6e137.png)

- 소스코드 올라온 것 확인하고 클릭해준다.

![3-5-5](https://user-images.githubusercontent.com/86764734/155149749-dd6dc58e-a32b-40ba-a91b-4cf9e5b1c881.png)


- 1.초기화 

  - → 디비 접속을 위한 패키지를 import

![3-5-6](https://user-images.githubusercontent.com/86764734/155149829-0b1f06d5-7adf-47b3-aaf0-1b3037cca50e.png)

- 2. RDS Read 

  - → 접속할 수 있는 정보들

**JDBC**
(Java Database Connectivity)는 자바에서 데이터베이스에 접속할 수 있도록 하는 자바 API이다. JDBC는 데이터베이스에서 자료를 쿼리하거나 업데이트하는 방법을 제공한다.

---


모든 DB에 spark가 접속하기 위해서는 jdbc드라이버를 꼭 설치해줘야한다. 

기본적으로 mysql드라이버나 , aws서비스인 레드시프트 접속드라이버가 디폴트로 설치가 되어있지 않기 때문에 직접설치를 해줘야한다. 

과거에는 zeppelin이 그런 라이브러리 레포지토리를 따로 관리해서 설치를 쉽게 지원을 해주긴 했었다. 

메인의 기능 그대로 가져가서 설치를 쉽게 할 수 있게 제공을 했었는데, 현재는 막혀서 우리가 자료에 제공된 부분인 실직적으로 스크립을 통해 스파크의 라이브러리에 직접적으로 mysql에 드라이버를 다운로드 받아서 설치하는 방법으로 진행해야한다. 

지난번 강글리아에서 실습했던 것 처럼 오픈포트 하듯이 픽스해서 올려주면 바로 드라이버 설치!!

